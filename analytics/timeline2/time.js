/* timeline2.js - Minified for some reason */
var t=1520,e=document.getElementById("play-pause-button"),n=document.getElementById("play-range"),a=15,i=t;let r,s;function o(t){const e=Object.entries(r).map((e=>{const[n,a]=e;return[n,Number(a[t])]})).sort(((t,e)=>e[1]-t[1]));return[e[0],e.slice(0,a)]}function l(){(o(n.value)[0][1]/1e9).toFixed(2);return`<span style="font-size: 80px">${n.value}</span>\n        <br>\n        <span style="font-size: 22px">\n            of <b>${i}</b>\n        </span>`}!function(t){const e=/^-?\d+\.?\d*$/;t.Fx.prototype.textSetter=function(){const n=t.charts[this.elem.renderer.chartIndex];let a=n.numberFormatter("1000.0")[1];/[0-9]/.test(a)&&(a=" ");const i=new RegExp(a,"g");let r=this.start.replace(i,""),s=this.end.replace(i,""),o=this.end.replace(i,"");(r||"").match(e)&&(r=parseInt(r,10),s=parseInt(s,10),o=n.numberFormatter(Math.round(r+(s-r)*this.pos),0)),this.elem.endText=this.end,this.elem.attr(this.prop,o,null,!0)},t.SVGElement.prototype.textGetter=function(){const t=this.text.element.textContent||"";return this.endText?this.endText:t.substring(0,t.length/2)},t.wrap(t.Series.prototype,"drawDataLabels",(function(e){const n=t.SVGElement.prototype.attr,a=this.chart;a.sequenceTimer&&this.points.forEach((t=>(t.dataLabels||[]).forEach((t=>t.attr=function(t){if(t&&void 0!==t.text&&0===a.isResizing){const e=t.text;return delete t.text,this.attr(t).animate({text:e})}return n.apply(this,arguments)}))));const i=e.apply(this,Array.prototype.slice.call(arguments,1));return this.points.forEach((t=>(t.dataLabels||[]).forEach((t=>t.attr=n)))),i}))}(Highcharts);const c=()=>new Promise(((e,n)=>{let a={},r=0;getAttributions().then((n=>{i=n.orderedAuthors.length,t=i,document.getElementById("play-range").max=i,n.orderedAuthors.forEach((t=>{r+=1,t.forEach((t=>{if(void 0===a[t]){a[t]={},a[t][r]=1;for(let e=1;e<r;e++)a[t][e]=0}else{let e=a[t][r-1];a[t][r]=e+1}})),Object.keys(a).forEach((t=>{void 0===a[t][r]&&(a[t][r]=a[t][r-1])})),Object.keys(a).length>20&&Object.keys(a).sort(((t,e)=>a[e][r]-a[t][r]))})),e(a)}))}));function u(t){t.title="play",t.className="fa fa-play",clearTimeout(s.sequenceTimer),s.sequenceTimer=void 0}function d(a){a&&(n.value=parseInt(n.value,10)+a),n.value>=t&&u(e),s.update({subtitle:{text:l()}},!1,!1,!1),s.series[0].update({name:n.value,data:o(n.value)[1]})}(async()=>{r=await c(),s=Highcharts.chart("container",{chart:{animation:{duration:500},marginRight:50},title:{text:"Number of Quotes over time",align:"left"},subtitle:{useHTML:!0,text:l(),floating:!0,align:"right",verticalAlign:"middle",y:-80,x:-100},legend:{enabled:!1},xAxis:{type:"category"},yAxis:{opposite:!0,tickPixelInterval:150,title:{text:null}},plotOptions:{series:{animation:!1,groupPadding:0,pointPadding:.1,borderWidth:0,colorByPoint:!0,dataSorting:{enabled:!0,matchByName:!0},type:"bar",dataLabels:{enabled:!0}}},series:[{type:"bar",name:1,data:o(1)[1]}],responsive:{rules:[{condition:{maxWidth:550},chartOptions:{xAxis:{visible:!1},subtitle:{x:0},plotOptions:{series:{dataLabels:[{enabled:!0,y:8},{enabled:!0,format:"{point.name}",y:-8,style:{fontWeight:"normal",opacity:.7}}]}}}}]}})})(),e.addEventListener("click",(function(){var t;s.sequenceTimer?u(this):((t=this).title="pause",t.className="fa fa-pause",s.sequenceTimer=setInterval((function(){d(1)}),500))})),n.addEventListener("click",(function(){d()}));
